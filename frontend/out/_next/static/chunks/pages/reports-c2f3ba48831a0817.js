(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[53],{1373:function(e,t,r){"use strict";r.d(t,{Z:function(){return h}});var n=r(7294);/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),s=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),o=e=>{let t=s(e);return t.charAt(0).toUpperCase()+t.slice(1)},l=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim(),i=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.507.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let d=(0,n.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:s="",children:o,iconNode:d,...h},u)=>(0,n.createElement)("svg",{ref:u,...c,width:t,height:t,stroke:e,strokeWidth:a?24*Number(r)/Number(t):r,className:l("lucide",s),...!o&&!i(h)&&{"aria-hidden":"true"},...h},[...d.map(([e,t])=>(0,n.createElement)(e,t)),...Array.isArray(o)?o:[o]])),h=(e,t)=>{let r=(0,n.forwardRef)(({className:r,...s},i)=>(0,n.createElement)(d,{ref:i,iconNode:t,className:l(`lucide-${a(o(e))}`,`lucide-${e}`,r),...s}));return r.displayName=o(e),r}},8442:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/reports",function(){return r(1137)}])},1137:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return j}});var n=r(5893),a=r(9008),s=r.n(a),o=r(5152),l=r.n(o),i=r(7294),c=r(5493),d=r(2537),h=r(558),u=r(5658),g=r(1139),m=r(4671);function x(){let{user:e}=(0,d.a)(),{expenses:t,isLoading:r,isError:a}=(0,m.t)();return console.log("Debug - User:",e),console.log("Debug - Expenses:",t),console.log("Debug - Is Loading:",r),console.log("Debug - Is Error:",a),(0,n.jsxs)("div",{className:"p-4 bg-yellow-100 border border-yellow-300 rounded",children:[(0,n.jsx)("h3",{className:"font-bold",children:"Debug Info:"}),(0,n.jsxs)("p",{children:["User authenticated: ",e?"Yes":"No"]}),(0,n.jsxs)("p",{children:["User email: ",(null==e?void 0:e.email)||"N/A"]}),(0,n.jsxs)("p",{children:["Expenses loading: ",r?"Yes":"No"]}),(0,n.jsxs)("p",{children:["Expenses error: ",a?"Yes":"No"]}),(0,n.jsxs)("p",{children:["Expenses count: ",(null==t?void 0:t.length)||0]}),(0,n.jsxs)("p",{children:["API URL: ","https://moneymanager-backend-qwbwl7ldoa-oa.a.run.app"]})]})}var f=r(8530),w=r(1373);let p=(0,w.Z)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),b=l()(()=>Promise.all([r.e(219),r.e(923)]).then(r.bind(r,6923)),{loadableGenerated:{webpack:()=>[6923]},loading:()=>(0,n.jsx)(g.Z,{})});function j(){let{user:e}=(0,d.a)(),{expenses:t,isLoading:r}=(0,m.t)(),{userData:a}=(0,f.v)(),[o,l]=(0,i.useState)("This Month"),[g,w]=(0,i.useState)(!1),j=(()=>{if(!t)return[];let e=new Date,r=new Date(e.getFullYear(),e.getMonth(),e.getDate()),n=new Date(e.setDate(e.getDate()-e.getDay())),a=new Date(e.getFullYear(),e.getMonth(),1),s=new Date(e.getFullYear(),e.getMonth()-1,1),l=new Date(e.getFullYear(),e.getMonth(),0),i=new Date(e.getFullYear(),e.getMonth()-3,1),c=new Date(e.getFullYear(),0,1);return t.filter(e=>{let t=new Date(e.timestamp||e.date);switch(o){case"Today":return t>=r;case"This Week":return t>=n;case"This Month":return t>=a;case"Last Month":return t>=s&&t<=l;case"Last 3 Months":return t>=i;case"This Year":return t>=c;default:return!0}})})(),y=j.reduce((e,t)=>e+(t.amount||0),0);return(0,n.jsx)(h.i,{children:(0,n.jsxs)(c.Z,{children:[(0,n.jsxs)(s(),{children:[(0,n.jsx)("title",{children:"Reports - MoneyManager"}),(0,n.jsx)("meta",{name:"description",content:"View your spending analytics"})]}),(0,n.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-white to-blue-50",children:(0,n.jsxs)("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[(0,n.jsxs)("div",{className:"mb-8",children:[(0,n.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Reports"}),(0,n.jsx)("p",{className:"text-gray-600",children:"View your spending analytics"})]}),(0,n.jsx)("div",{className:"mb-6",children:(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsxs)("button",{onClick:()=>w(!g),className:"w-full max-w-md flex items-center justify-between px-4 py-3 bg-white border border-gray-300 rounded-lg text-left focus:outline-none focus:ring-2 focus:ring-[#4d9fff] focus:border-transparent",children:[(0,n.jsx)("span",{className:"text-gray-700",children:o}),(0,n.jsx)(p,{className:"w-5 h-5 text-gray-400 transition-transform ".concat(g?"rotate-180":"")})]}),g&&(0,n.jsx)("div",{className:"absolute top-full left-0 right-0 max-w-md mt-1 bg-white border border-gray-200 rounded-lg shadow-lg z-10",children:["Today","This Week","This Month","Last Month","Last 3 Months","This Year","Custom Range"].map(e=>(0,n.jsx)("button",{onClick:()=>{l(e),w(!1)},className:"w-full text-left px-4 py-3 hover:bg-gray-50 first:rounded-t-lg last:rounded-b-lg ".concat(o===e?"bg-gradient-to-r from-[#00e4ff] to-[#4d9fff] text-white":"text-gray-700"),children:e},e))})]})}),(0,n.jsx)("div",{className:"mb-6",children:(0,n.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Total Spending"}),(0,n.jsx)("p",{className:"text-sm text-gray-600",children:(()=>{let e=new Date;switch(o){case"Today":return e.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});case"This Week":let t=new Date(e.setDate(e.getDate()-e.getDay())),r=new Date(t);return r.setDate(t.getDate()+6),"".concat(t.toLocaleDateString("en-US",{month:"short",day:"numeric"})," - ").concat(r.toLocaleDateString("en-US",{month:"short",day:"numeric"}));case"This Month":return e.toLocaleDateString("en-US",{month:"long",year:"numeric"});case"Last Month":let n=new Date(e.getFullYear(),e.getMonth()-1,1);return n.toLocaleDateString("en-US",{month:"long",year:"numeric"});case"Last 3 Months":let a=new Date(e.getFullYear(),e.getMonth()-3,1);return"".concat(a.toLocaleDateString("en-US",{month:"short",year:"numeric"})," - ").concat(e.toLocaleDateString("en-US",{month:"short",year:"numeric"}));case"This Year":return e.getFullYear().toString();default:return""}})()})]}),(0,n.jsx)("div",{className:"text-right",children:(0,n.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:["â‚¬",y.toFixed(2)]})})]})})}),r?(0,n.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,n.jsx)(u.Z,{})}):(0,n.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:(0,n.jsx)(b,{expenses:j,isLoading:r})}),(0,n.jsx)(x,{})]})})]})})}}},function(e){e.O(0,[976,260,131,919,774,888,179],function(){return e(e.s=8442)}),_N_E=e.O()}]);